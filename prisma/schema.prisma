datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                 String             @id @db.Uuid
  discord_connection DiscordConnection?

  @@map("users")
}

model DiscordConnection {
  id      String @id // discord id as snowflake
  user_id String @unique @db.Uuid
  user    User   @relation(fields: [user_id], references: [id])

  @@map("discord_connections")
}

model UserRole {
  user_id String @db.Uuid
  type    String

  @@unique([user_id, type])
  @@map("user_roles")
}

model DiscordRole {
  discord_role_id String
  type            String

  @@unique([discord_role_id, type])
  @@map("discord_roles")
}
